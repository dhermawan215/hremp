var Index=function(){const csrf_token=$('meta[name="csrf-token"]').attr("content"),idFrom=$("#emp_id").val();var getDataEmployee=function(){var results;return $.ajax({type:"POST",url:url+"app/ajax/employee-data.php",async:!1,data:{id:idFrom,_token:csrf_token},success:function(response){null===response.id&&null===response.status?document.location.href=url+"view/pages/employee/index.php":($("#karyawanName").html(response.nama),results=response,$("#namaSuamiIstri").attr("disabled","disabled"),$("#anak1").attr("disabled","disabled"),$("#anak2").attr("disabled","disabled"),$("#anak3").attr("disabled","disabled"),$("#anak4").attr("disabled","disabled"),$("#btnSave").attr("disabled","disabled"))}}),results},handleFormSubmit=function(DataId,DataStatus){const dataId=DataId,dataStatus=DataStatus;$("#formEmployeePersonalFm").submit((function(e){e.preventDefault();const form=$(this);let formData=new FormData(form[0]);confirm("Apakah Data Sudah Sesuai?!")&&$.ajax({type:"POST",url:url+"app/ajax/employee-family.php",data:formData,processData:!1,contentType:!1,success:function(response){let obj;!0===response.success?(toastr.success(response.data),setTimeout(()=>{document.location.href=url+"view/pages/employee/employee-emergency.php?dataId="+dataId+"&dataStatus="+dataStatus},4500)):$.each(response.data,(function(key,value){toastr.error(value)}))}})}))},handleCheckBox=function(DataId,DataStatus){const dataId=DataId,dataStatus=DataStatus;$("#isFamilyCbxTrue").on("click",(function(){$("#isFamilyCbxTrue").is(":checked")?($("#namaSuamiIstri").removeAttr("disabled"),$("#anak1").removeAttr("disabled"),$("#anak2").removeAttr("disabled"),$("#anak3").removeAttr("disabled"),$("#anak4").removeAttr("disabled"),$("#btnSave").removeAttr("disabled")):($("#namaSuamiIstri").attr("disabled","disabled"),$("#anak1").attr("disabled","disabled"),$("#anak2").attr("disabled","disabled"),$("#anak3").attr("disabled","disabled"),$("#anak4").attr("disabled","disabled"),$("#btnSave").attr("disabled","disabled"))})),$("#isFamilyCbxFalse").on("click",(function(){$("#isFamilyCbxFalse").is(":checked")&&(document.location.href=url+"view/pages/employee/employee-emergency.php?dataId="+dataId+"&dataStatus="+dataStatus)}))};return{init:function(){getDataEmployee();const DataId=getDataEmployee().id,DataStatus=getDataEmployee().status;handleFormSubmit(DataId,DataStatus),handleCheckBox(DataId,DataStatus)}}}();$(document).ready((function(){Index.init()}));