var Index=function(){const csrf_token=$('meta[name="csrf-token"]').attr("content"),idFrom=$("#emp_id").val();var getDataEmployee=function(){var results;$.ajax({type:"POST",url:url+"app/ajax/emp-personal-edu.php",async:!1,data:{id:idFrom,_token:csrf_token},success:function(response){$("#pendidikanTerakhir").attr("disabled","disabled"),$("#jurusan").attr("disabled","disabled"),$("#asal_sekolah").attr("disabled","disabled"),null===response.data_index?document.location.href=url+"view/pages/employee/index.php":($("#karyawanName").html(response.nama),results=response,$("#idData").val(response.data_index),$("#pendidikanTerakhir").val(response.pendidikan_terakhir),$("#jurusan").val(response.jurusan),$("#asal_sekolah").val(response.asal_sekolah),handleIsEdit(results))}})},handleIsEdit=function(results){const pendidikan_value=results.pendidikan_terakhir,pendidikan_name=results.pendidikan_terakhir;$("#pendidikanTerakhir").append($("<option>",{value:pendidikan_value,text:pendidikan_name,attr:"selected"})),$("#editControl").on("click",(function(){$("#editControl").is(":checked")?($("#pendidikanTerakhir").removeAttr("disabled","disabled"),$("#jurusan").removeAttr("disabled","disabled"),$("#asal_sekolah").removeAttr("disabled","disabled"),$("#btnUpdated").removeAttr("disabled"),handlePendidikan()):($("#pendidikanTerakhir").attr("disabled","disabled"),$("#jurusan").attr("disabled","disabled"),$("#asal_sekolah").attr("disabled","disabled"),$("#btnUpdated").attr("disabled","disabled"))}))},handlePendidikan=function(){var data=[{id:"SD",text:"SD"},{id:"SMP",text:"SMP"},{id:"SMA/SMK",text:"SMA/SMK"},{id:"D3",text:"D3"},{id:"S1",text:"S1"},{id:"S2",text:"S2"}];$("#pendidikanTerakhir").select2({data:data})},handleFormSubmit=function(){$("#formEmployeePersonalEdu").submit((function(e){e.preventDefault();const form=$(this);let formData=new FormData(form[0]);confirm("Apakah Data Sudah Sesuai?!")&&$.ajax({type:"POST",url:url+"app/ajax/update-employee-personal-edu.php",data:formData,processData:!1,contentType:!1,success:function(response){let obj;!0===response.success?(toastr.success(response.data),setTimeout(()=>{location.reload()},4500)):$.each(response.data,(function(key,value){toastr.error(value)}))}})}))};return{init:function(){getDataEmployee(),handleFormSubmit()}}}();$(document).ready((function(){Index.init()}));